#include "game_phase.hxx"

const int MATERIAL[13] = {0,1,3,3,5,9,0,1,3,3,5,9,0};
const int MATERIAL2[13] = {0,1,3,3,5,9,99,1,3,3,5,9,99};

// aabningsspillet er tidligere!

const int GAME_PHASE_PLY[128][3] = // each triple must sum to 256
{{256,   0,   0}, {256,   0,   0}, // Move 1
 {253,   3,   0}, {253,   3,   0}, // Move 2
 {246,  10,   0}, {246,  10,   0}, // Move 3
 {241,  15,   0}, {241,  15,   0}, // Move 4
 {228,  28,   0}, {228,  28,   0}, // Move 5
 {220,  36,   0}, {220,  36,   0}, // Move 6
 {201,  55,   0}, {201,  55,   0}, // Move 7
 {178,  78,   0}, {178,  78,   0}, // Move 8
 {151, 105,   0}, {151, 105,   0}, // Move 9
 {128, 128,   0}, {128, 128,   0}, // Move 10
 {105, 151,   0}, {105, 151,   0}, // Move 11
 { 78, 178,   0}, { 78, 178,   0}, // Move 12
 { 55, 201,   0}, { 55, 201,   0}, // Move 13
 { 36, 220,   0}, { 36, 220,   0}, // Move 14
 { 21, 235,   0}, { 21, 235,   0}, // Move 15
 { 10, 246,   0}, { 10, 246,   0}, // Move 16
 {  3, 253,   0}, {  3, 253,   0}, // Move 17
 {  0, 256,   0}, {  0, 256,   0}, // Move 18
 {  0, 253,   3}, {  0, 253,   3}, // Move 19
 {  0, 246,  10}, {  0, 246,  10}, // Move 20
 {  0, 241,  15}, {  0, 241,  15}, // Move 21
 {  0, 235,  21}, {  0, 235,  21}, // Move 22
 {  0, 228,  28}, {  0, 228,  28}, // Move 23
 {  0, 220,  36}, {  0, 220,  36}, // Move 24
 {  0, 211,  45}, {  0, 211,  45}, // Move 25
 {  0, 201,  55}, {  0, 201,  55}, // Move 26
 {  0, 190,  66}, {  0, 190,  66}, // Move 27
 {  0, 178,  78}, {  0, 178,  78}, // Move 28
 {  0, 165,  91}, {  0, 165,  91}, // Move 29
 {  0, 151, 105}, {  0, 151, 105}, // Move 30
 {  0, 139, 117}, {  0, 139, 117}, // Move 31
 {  0, 128, 128}, {  0, 128, 128}, // Move 32
 {  0, 113, 139}, {  0, 113, 139}, // Move 33
 {  0, 105, 151}, {  0, 105, 151}, // Move 34
 {  0,  91, 165}, {  0,  91, 165}, // Move 35
 {  0,  78, 178}, {  0,  78, 178}, // Move 36
 {  0,  66, 190}, {  0,  66, 190}, // Move 37
 {  0,  55, 201}, {  0,  55, 201}, // Move 38
 {  0,  45, 211}, {  0,  45, 211}, // Move 39
 {  0,  36, 220}, {  0,  36, 220}, // Move 40
 {  0,  28, 228}, {  0,  28, 228}, // Move 41
 {  0,  21, 235}, {  0,  21, 235}, // Move 42
 {  0,  15, 241}, {  0,  15, 241}, // Move 43
 {  0,  10, 246}, {  0,  10, 246}, // Move 44
 {  0,   6, 250}, {  0,   6, 250}, // Move 45
 {  0,   3, 253}, {  0,   3, 253}, // Move 46
 {  0,   1, 255}, {  0,   1, 255}, // Move 47
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256},// Move 8
 {  0,   0, 256}, {  0,   0, 256}};// Move 8


const int GAME_PHASE_MATERIAL[MAX_MATERIAL+1][3] = // each triple must sum to 256
{{  0,   0, 256}, // 0: No material left
 {  0,   0, 256}, // 1 material left
 {  0,   0, 256}, // 2 material left
 {  0,   0, 256}, // 3 material left
 {  0,   0, 256}, // 4 material left
 {  0,   0, 256}, // 5 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 6 material left
 {  0,   0, 256}, // 7 material left
 {  0,   0, 256}, // 8 material left
 {  0,   1, 255}, // 9 material left
 {  0,   2, 254}, // 10 material left
 {  0,   4, 252}, // 11 material left
 {  0,   6, 250}, // 12 material left
 {  0,   9, 247}, // 13 material left
 {  0,  12, 244}, // 14 material left
 {  0,  16, 240}, // 15 material left
 {  0,  20, 236}, // 16 material left
 {  0,  25, 231}, // 17 material left
 {  0,  30, 226}, // 18 material left
 {  0,  36, 220}, // 19 material left
 {  0,  42, 214}, // 20 material left
 {  0,  49, 207}, // 21 material left
 {  0,  56, 200}, // 22 material left
 {  0,  64, 192}, // 23 material left
 {  0,  72, 184}, // 24 material left
 {  0,  81, 175}, // 25 material left
 {  0,  90, 166}, // 26 material left
 {  0, 100, 156}, // 27 material left
 {  0, 110, 146}, // 28 material left
 {  0, 121, 135}, // 29 material left
 {  0, 135, 121}, // 30 material left
 {  0, 146, 110}, // 31 material left
 {  0, 156, 100}, // 32 material left
 {  0, 166,  90}, // 33 material left
 {  0, 175,  81}, // 34 material left
 {  0, 184,  72}, // 35 material left
 {  0, 192,  64}, // 36 material left
 {  0, 200,  56}, // 37 material left
 {  0, 207,  49}, // 38 material left
 {  0, 214,  42}, // 39 material left
 {  0, 220,  36}, // 40 material left
 {  0, 226,  30}, // 41 material left
 {  0, 231,  25}, // 42 material left
 {  0, 236,  20}, // 43 material left
 {  0, 240,  16}, // 44 material left
 {  0, 244,  12}, // 45 material left
 {  0, 247,   9}, // 46 material left
 {  0, 250,   6}, // 47 material left
 {  0, 252,   4}, // 48 material left
 {  0, 254,   2}, // 49 material left
 {  0, 255,   1}, // 50 material left
 {  0, 256,   0}, // 51: Mid game
 {  0, 256,   0}, // 52: Mid game
 {  0, 256,   0}, // 53: Mid game
 {  0, 256,   0}, // 54: Mid game
 {  4, 252,   0}, // 56 material left
 { 46, 210,   0}, // 58 material left
 { 85, 171,   0}, // 60 material left
 {120, 136,   0}, // 62 material left
 {151, 105,   0}, // 64 material left
 {178,  78,   0}, // 66 material left
 {201,  55,   0}, // 68 material left
 {220,  36,   0}, // 70 material left
 {235,  21,   0}, // 72 material left
 {246,  10,   0}, // 74 material left
 {253,   3,   0}, // 76 material left
 {256,   0,   0}, // 78: Beginning of game

 // At last all the (extreemly rare) cases where the material succeeds what is found at the opening.
 // (mid game assumed)
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},

 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},

 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},

 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0},
 {  0, 256,   0},{  0, 256,   0},{  0, 256,   0},{  0, 256,   0}};
